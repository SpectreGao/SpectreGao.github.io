"use strict";(self["webpackChunkspectre_music_player"]=self["webpackChunkspectre_music_player"]||[]).push([[210],{2210:function(l,e,a){a.r(e),a.d(e,{default:function(){return K}});var n=a(3396),u=a(7139),i=a(4870),t=a(6797),o=a.n(t),s=a(6265),m=a.n(s),r=a(4239);const c=r.Z.state.webService;function d(l){return m()({url:`${c}/cloudsearch`,method:"get",params:l})}var p=a(7178),v=a(65),w=a(2483);const _=l=>((0,n.dD)("data-v-97372fe4"),l=l(),(0,n.Cn)(),l),b=_((()=>(0,n._)("i",{class:"ri-search-2-line"},null,-1))),f=(0,n.Uk)("搜索"),g=["onClick"],k=_((()=>(0,n._)("i",{class:"ri-play-line"},null,-1))),W=[k],C={key:0},y=["onClick"],h=["onClick"],z=["onClick"],H=_((()=>(0,n._)("i",{class:"ri-youtube-line"},null,-1))),U=[H],V=["onClick"],x=_((()=>(0,n._)("i",{class:"ri-download-line"},null,-1))),D=[x],q=["onClick"],S=_((()=>(0,n._)("i",{class:"ri-more-fill"},null,-1))),$=[S],Z=_((()=>(0,n._)("br",null,null,-1)));var j={__name:"index",setup(l){const e=(0,v.oR)(),a=(0,w.tv)(),t=(0,i.iH)(!1),s=(0,i.iH)(""),m=(0,i.iH)([]),r=(0,i.iH)(0),c=(0,i.iH)(20),_=(0,i.iH)(1),k=(0,i.iH)("1"),H=l=>{offset.value=0,1==l&&x()},x=()=>{t.value=!0,d({keywords:s.value,limit:c.value,offset:_.value*c.value,type:k.value}).then((l=>{let e=l.data.result;m.value=e.songs,r.value=e.songCount,t.value=!1})).catch((l=>{console.log(l),p.z8.error("搜索失败"),t.value=!1}))},S=l=>{let a="";l.ar.forEach(((l,e)=>{a+=`${e?" / ":""}${l.name}`})),e.commit("setNowPlay",{id:l.id,song:l.name,singer:a,album:l.al.name,pic:l.al.picUrl.substring(24,l.al.picUrl.length-4),mv:l.mv})},j=l=>{console.log(l)},E=l=>{console.log(l)},I=(l,e)=>{a.push({path:"/mv",query:{id:l,mv:e}})},K=l=>{},M=l=>{};return(l,e)=>{const a=(0,n.up)("el-input"),d=(0,n.up)("el-form-item"),p=(0,n.up)("el-button"),v=(0,n.up)("el-form"),w=(0,n.up)("el-tab-pane"),N=(0,n.up)("el-tabs"),P=(0,n.up)("el-table-column"),Q=(0,n.up)("el-table"),R=(0,n.up)("el-pagination"),T=(0,n.up)("el-card"),Y=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)(((0,n.wg)(),(0,n.j4)(T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{inline:"",class:"query"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),placeholder:"请输入内容",clearable:"",class:"blur"},{prefix:(0,n.w5)((()=>[b])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{type:"primary",onClick:e[1]||(e[1]=()=>{_.value=1,x()})},{default:(0,n.w5)((()=>[f])),_:1})])),_:1})])),_:1}),(0,n.Wm)(N,{modelValue:k.value,"onUpdate:modelValue":e[2]||(e[2]=l=>k.value=l),class:"demo-tabs",onTabChange:H},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{label:"单曲",name:"1"}),(0,n.Wm)(w,{label:"专辑",name:"10"}),(0,n.Wm)(w,{label:"歌手",name:"100"}),(0,n.Wm)(w,{label:"歌单",name:"1000"}),(0,n.Wm)(w,{label:"用户",name:"1002"}),(0,n.Wm)(w,{label:"MV",name:"1004"}),(0,n.Wm)(w,{label:"歌词",name:"1006"}),(0,n.Wm)(w,{label:"电台",name:"1009"}),(0,n.Wm)(w,{label:"视频",name:"1014"}),(0,n.Wm)(w,{label:"综合",name:"1018"})])),_:1},8,["modelValue"]),(0,n.Wm)(Q,{data:m.value},{default:(0,n.w5)((()=>[(0,n.Wm)(P,{width:"65px"},{default:(0,n.w5)((({row:l})=>[(0,n._)("ul",null,[(0,n._)("li",{onClick:e=>S(l),style:{margin:"0"}},W,8,g)])])),_:1}),(0,n.Wm)(P,{prop:"name",label:"歌名"}),(0,n.Wm)(P,{label:"歌手"},{default:(0,n.w5)((({row:l})=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.ar,((l,e)=>((0,n.wg)(),(0,n.iD)("span",{key:e,class:"singer"},[e?((0,n.wg)(),(0,n.iD)("i",C,"/")):(0,n.kq)("",!0),(0,n._)("span",{class:"link",onClick:e=>j(l)},(0,u.zw)(l.name),9,y)])))),128))])),_:1}),(0,n.Wm)(P,{label:"专辑"},{default:(0,n.w5)((({row:l})=>[(0,n._)("span",{class:"link",onClick:e=>E(l.al)},(0,u.zw)(l.al.name),9,h)])),_:1}),(0,n.Wm)(P,{label:"时长"},{default:(0,n.w5)((({row:l})=>[(0,n.Uk)((0,u.zw)((0,i.SU)(o())(l.dt).format("mm:ss")),1)])),_:1}),(0,n.Wm)(P,{label:"操作",fixed:"right"},{default:(0,n.w5)((({row:l})=>[(0,n._)("ul",null,[l.mv?((0,n.wg)(),(0,n.iD)("li",{key:0,onClick:e=>I(l.id,l.mv)},U,8,z)):(0,n.kq)("",!0),(0,n._)("li",{onClick:e=>K(l.id)},D,8,V),(0,n._)("li",{onClick:e=>M(l.id)},$,8,q)])])),_:1})])),_:1},8,["data"]),Z,(0,n.Wm)(R,{background:"",layout:"total, sizes, prev, pager, next",total:r.value,"page-size":c.value,"current-page":_.value,onSizeChange:e[3]||(e[3]=l=>{c.value=l,x()}),onCurrentChange:e[4]||(e[4]=l=>{_.value=l,x()}),style:{display:"flex"}},null,8,["total","page-size","current-page"])])),_:1})),[[Y,t.value]])])}}},E=a(89);const I=(0,E.Z)(j,[["__scopeId","data-v-97372fe4"]]);var K=I}}]);