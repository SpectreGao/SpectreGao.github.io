"use strict";(self["webpackChunkspectre_music_player"]=self["webpackChunkspectre_music_player"]||[]).push([[780],{5780:function(l,e,a){a.r(e),a.d(e,{default:function(){return C}});var n=a(3396),u=a(7139),t=a(4870),o=a(6265),s=a.n(o),i=a(4239);const m=i.Z.state.webService;function r(l){return s()({url:`${m}/cloudsearch`,method:"get",params:l})}var c=a(7178),p=a(65);const d=l=>((0,n.dD)("data-v-391a8f54"),l=l(),(0,n.Cn)(),l),v=d((()=>(0,n._)("i",{class:"ri-search-2-line"},null,-1))),b=(0,n.Uk)("搜索"),w=d((()=>(0,n._)("i",{class:"ri-play-line",style:{"font-size":"20px"}},null,-1))),f={key:0},g=["onClick"],_=["onClick"],W=d((()=>(0,n._)("br",null,null,-1)));var k={__name:"index",setup(l){const e=(0,p.oR)(),a=(0,t.iH)(!1),o=(0,t.iH)(""),s=(0,t.iH)([]),i=(0,t.iH)(0),m=(0,t.iH)(20),d=(0,t.iH)(1),k=(0,t.iH)("1"),y=l=>{1==l&&h()},h=()=>{a.value=!0,r({keywords:o.value,limit:m.value,offset:d.value,type:k.value}).then((l=>{let e=l.data.result;s.value=e.songs,i.value=e.songCount,a.value=!1})).catch((l=>{console.log(l),c.z8.error("搜索失败"),a.value=!1}))},C=l=>{let a="";l.ar.forEach(((l,e)=>{a+=`${e?" / ":""}${l.name}`})),e.commit("setNowPlay",{id:l.id,song:l.name,singer:a,album:l.al.name,pic:l.al.picUrl.substring(24,l.al.picUrl.length-4),mv:l.mv})},z=l=>{console.log(l)},H=l=>{console.log(l)};return(l,e)=>{const t=(0,n.up)("el-input"),r=(0,n.up)("el-form-item"),c=(0,n.up)("el-button"),p=(0,n.up)("el-form"),x=(0,n.up)("el-tab-pane"),V=(0,n.up)("el-tabs"),D=(0,n.up)("el-table-column"),U=(0,n.up)("el-table"),$=(0,n.up)("el-pagination"),q=(0,n.up)("el-card"),S=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)(((0,n.wg)(),(0,n.j4)(q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{inline:"",class:"query"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(t,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),placeholder:"请输入内容",clearable:"",class:"blur"},{prefix:(0,n.w5)((()=>[v])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:"primary",onClick:e[1]||(e[1]=l=>h())},{default:(0,n.w5)((()=>[b])),_:1})])),_:1})])),_:1}),(0,n.Wm)(V,{modelValue:k.value,"onUpdate:modelValue":e[2]||(e[2]=l=>k.value=l),class:"demo-tabs",onTabChange:y},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{label:"单曲",name:"1"}),(0,n.Wm)(x,{label:"专辑",name:"10"}),(0,n.Wm)(x,{label:"歌手",name:"100"}),(0,n.Wm)(x,{label:"歌单",name:"1000"}),(0,n.Wm)(x,{label:"用户",name:"1002"}),(0,n.Wm)(x,{label:"MV",name:"1004"}),(0,n.Wm)(x,{label:"歌词",name:"1006"}),(0,n.Wm)(x,{label:"电台",name:"1009"}),(0,n.Wm)(x,{label:"视频",name:"1014"}),(0,n.Wm)(x,{label:"综合",name:"1018"})])),_:1},8,["modelValue"]),(0,n.Wm)(U,{data:s.value},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{width:"35px"},{default:(0,n.w5)((({row:l})=>[(0,n.Wm)(c,{type:"text",class:"link",onClick:e=>C(l)},{default:(0,n.w5)((()=>[w])),_:2},1032,["onClick"])])),_:1}),(0,n.Wm)(D,{prop:"name",label:"歌名"}),(0,n.Wm)(D,{label:"歌手"},{default:(0,n.w5)((({row:l})=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.ar,((l,e)=>((0,n.wg)(),(0,n.iD)("span",{key:e,class:"singer"},[e?((0,n.wg)(),(0,n.iD)("i",f,"/")):(0,n.kq)("",!0),(0,n._)("span",{class:"link",onClick:e=>z(l)},(0,u.zw)(l.name),9,g)])))),128))])),_:1}),(0,n.Wm)(D,{label:"专辑"},{default:(0,n.w5)((({row:l})=>[(0,n._)("span",{class:"link",onClick:e=>H(l.al)},(0,u.zw)(l.al.name),9,_)])),_:1})])),_:1},8,["data"]),W,(0,n.Wm)($,{background:"",layout:"total, sizes, prev, pager, next",total:i.value,"page-size":m.value,onSizeChange:e[3]||(e[3]=l=>{m.value=l,h()}),onCurrentChange:e[4]||(e[4]=l=>{d.value=l-1,h()}),style:{display:"flex"}},null,8,["total","page-size"])])),_:1})),[[S,a.value]])])}}},y=a(89);const h=(0,y.Z)(k,[["__scopeId","data-v-391a8f54"]]);var C=h}}]);