"use strict";(self["webpackChunkspectre_music_player"]=self["webpackChunkspectre_music_player"]||[]).push([[187],{4187:function(l,e,a){a.r(e),a.d(e,{default:function(){return M}});var n=a(3396),u=a(9242),i=a(7139),t=a(4870),o=a(6797),r=a.n(o),s=a(6265),m=a.n(s),c=a(4239);const d=c.Z.state.webService;function p(l){return m()({url:`${d}/cloudsearch`,method:"get",params:l})}var v=a(7178),w=a(65),_=a(2483);const b=l=>((0,n.dD)("data-v-787c4eae"),l=l(),(0,n.Cn)(),l),f=b((()=>(0,n._)("i",{class:"ri-search-2-line"},null,-1))),g=(0,n.Uk)("搜索"),k=["onClick"],W=b((()=>(0,n._)("i",{class:"ri-play-line"},null,-1))),C=[W],y={key:0},h=["onClick"],z=["onClick"],H=["onClick"],D=b((()=>(0,n._)("i",{class:"ri-youtube-line"},null,-1))),U=[D],V=["onClick"],x=b((()=>(0,n._)("i",{class:"ri-download-line"},null,-1))),q=[x],S=["onClick"],$=b((()=>(0,n._)("i",{class:"ri-more-fill"},null,-1))),K=[$],Z=b((()=>(0,n._)("br",null,null,-1)));var j={__name:"index",setup(l){const e=(0,w.oR)(),a=(0,_.tv)(),o=(0,t.iH)(!1),s=(0,t.iH)(""),m=(0,t.iH)([]),c=(0,t.iH)(0),d=(0,t.iH)(20),b=(0,t.iH)(1),W=(0,t.iH)("1"),D=l=>{offset.value=0,1==l&&x()},x=()=>{o.value=!0,m.value=[],p({keywords:s.value,limit:d.value,offset:b.value*d.value,type:W.value}).then((l=>{let e=l.data.result;m.value=e.songs,c.value=e.songCount,o.value=!1})).catch((l=>{console.log(l),v.z8.error("搜索失败"),o.value=!1}))},$=l=>{let a="";l.ar.forEach(((l,e)=>{a+=`${e?" / ":""}${l.name}`})),e.commit("setNowPlay",{id:l.id,song:l.name,singer:a,album:l.al.name,pic:l.al.picUrl.substring(24,l.al.picUrl.length-4),mv:l.mv})},j=l=>{console.log(l)},E=l=>{console.log(l)},I=(l,e)=>{a.push({path:"/mv",query:{id:l,mv:e}})},M=l=>{},N=l=>{};return(l,e)=>{const a=(0,n.up)("el-input"),p=(0,n.up)("el-form-item"),v=(0,n.up)("el-button"),w=(0,n.up)("el-form"),_=(0,n.up)("el-tab-pane"),P=(0,n.up)("el-tabs"),Q=(0,n.up)("el-table-column"),R=(0,n.up)("el-table"),T=(0,n.up)("el-pagination"),Y=(0,n.up)("el-card"),A=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.wy)(((0,n.wg)(),(0,n.j4)(Y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{inline:"",class:"query"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),placeholder:"请输入内容",clearable:"",class:"blur",onKeyup:e[1]||(e[1]=(0,u.D2)((l=>x()),["enter","native"]))},{prefix:(0,n.w5)((()=>[f])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{type:"primary",onClick:e[2]||(e[2]=()=>{b.value=1,x()})},{default:(0,n.w5)((()=>[g])),_:1})])),_:1})])),_:1}),(0,n.Wm)(P,{modelValue:W.value,"onUpdate:modelValue":e[3]||(e[3]=l=>W.value=l),class:"demo-tabs",onTabChange:D},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{label:"单曲",name:"1"}),(0,n.Wm)(_,{label:"专辑",name:"10"}),(0,n.Wm)(_,{label:"歌手",name:"100"}),(0,n.Wm)(_,{label:"歌单",name:"1000"}),(0,n.Wm)(_,{label:"用户",name:"1002"}),(0,n.Wm)(_,{label:"MV",name:"1004"}),(0,n.Wm)(_,{label:"歌词",name:"1006"}),(0,n.Wm)(_,{label:"电台",name:"1009"}),(0,n.Wm)(_,{label:"视频",name:"1014"}),(0,n.Wm)(_,{label:"综合",name:"1018"})])),_:1},8,["modelValue"]),(0,n.Wm)(R,{data:m.value},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,{width:"65px"},{default:(0,n.w5)((({row:l})=>[(0,n._)("ul",null,[(0,n._)("li",{onClick:e=>$(l),style:{margin:"0"}},C,8,k)])])),_:1}),(0,n.Wm)(Q,{prop:"name",label:"歌名"}),(0,n.Wm)(Q,{label:"歌手"},{default:(0,n.w5)((({row:l})=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.ar,((l,e)=>((0,n.wg)(),(0,n.iD)("span",{key:e,class:"singer"},[e?((0,n.wg)(),(0,n.iD)("i",y,"/")):(0,n.kq)("",!0),(0,n._)("span",{class:"link",onClick:e=>j(l)},(0,i.zw)(l.name),9,h)])))),128))])),_:1}),(0,n.Wm)(Q,{label:"专辑"},{default:(0,n.w5)((({row:l})=>[(0,n._)("span",{class:"link",onClick:e=>E(l.al)},(0,i.zw)(l.al.name),9,z)])),_:1}),(0,n.Wm)(Q,{label:"时长"},{default:(0,n.w5)((({row:l})=>[(0,n.Uk)((0,i.zw)((0,t.SU)(r())(l.dt).format("mm:ss")),1)])),_:1}),(0,n.Wm)(Q,{label:"操作",fixed:"right"},{default:(0,n.w5)((({row:l})=>[(0,n._)("ul",null,[l.mv?((0,n.wg)(),(0,n.iD)("li",{key:0,onClick:e=>I(l.id,l.mv)},U,8,H)):(0,n.kq)("",!0),(0,n._)("li",{onClick:e=>M(l.id)},q,8,V),(0,n._)("li",{onClick:e=>N(l.id)},K,8,S)])])),_:1})])),_:1},8,["data"]),Z,(0,n.Wm)(T,{background:"",layout:"total, sizes, prev, pager, next",total:c.value,"page-size":d.value,"current-page":b.value,onSizeChange:e[4]||(e[4]=l=>{d.value=l,x()}),onCurrentChange:e[5]||(e[5]=l=>{b.value=l,x()}),style:{display:"flex"}},null,8,["total","page-size","current-page"])])),_:1})),[[A,o.value]])])}}},E=a(89);const I=(0,E.Z)(j,[["__scopeId","data-v-787c4eae"]]);var M=I}}]);